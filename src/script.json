{
  "code": "javascript:!function(){if(!(location.pathname.indexOf('/folder/')>-1))return void alert('Not a Fshare folder, Please navigate to FShare folder');let e=location.pathname.replace('/folder/',''),o=e=>Number(e.split('&page=')[1].split('&')[0])+1;alert('Press OK to start download JSON file'),console.info('Starting download...'),function(e){(function(e){return fetch(`https://www.fshare.vn/api/v3/files/folder?linkcode=${e}`).then(e=>e.json()).then(e=>o(e._links.last))})(e).then(o=>Promise.all(Array.from({length:o}).map((o,n)=>`https://www.fshare.vn/api/v3/files/folder?linkcode=${e}&sort=type%2Cname&page=${n}&per-page=50`).map(e=>fetch(e))).then(e=>Promise.all(e.map(e=>e.json()))).then(e=>{let o=[],n={};e.forEach(({items:e})=>{e.forEach(e=>{if(!n[e.id]){n[e.id]=1;const{id:t,name:a,size:l,linkcode:i}=e;o.push({id:t,name:a,size:l,linkcode:i})}})}),function(e){const o=URL.createObjectURL(new Blob([JSON.stringify(e)],{type:'application/json'})),n=document.createElement('a');console.log(o),n.href=o,n.download=`list-${Date.now()}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n)}(o)}))}(e)}();"
}
